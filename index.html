<!DOCTYPE html>
<html>
  <head>
    <title>Kablammo!</title>

    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet" media="screen,print">
    <link href="css/kablammo.css" rel="stylesheet" media="screen,print">
    <link href="css/svg.css" rel="stylesheet" media="screen,print">
  </head>

  <body>
    <div id="content">
      <div class="container-fluid">
        <div class="row-fluid">
          <div class="span12">
            <h2 id="header">Kablammo!</h2>

            <div class="row-fluid">
              <div class="span6 offset3">
                <p>
                  Kablammo helps you visualize BLAST results, illustrating which
                  parts of your query sequences align to which parts of subject
                  sequences in BLAST's database. Kablammo also helps you
                  understand how strong each hit is relative to others.
                </p>
                <button id="learn-more-button" class="btn" data-toggle="modal" data-target="#more-info-container">Learn more ...</button>
              </div>
            </div>

            <form id="load-results-form" class="form-horizontal">
              <fieldset>
                <legend>Parameters</legend>
                <div class="row-fluid">
                  <div class="span6">
                    <div class="tabbable tabs-left">
                      <ul class="nav nav-tabs">
                        <li class="active"><a href="#load-from-server" data-toggle="tab">Load from server</a></li>
                        <li><a href="#load-local-file" data-toggle="tab">Load local file</a></li>
                      </ul>
                      <div class="tab-content">
                        <div class="tab-pane active" id="load-from-server">
                          <select id="server-results-chooser"></select>
                        </div>

                        <div class="tab-pane" id="load-local-file">
                          <input type="file" id="local-file-chooser" />
                          <button class="btn" id="choose-file">Choose file ...</button>
                          <p class="file-label"></p>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="span6" id="secondary-params">
                    <div class="control-group">
                      <label class="control-label" for="query-filter">Query filter:</label>
                      <div class="controls">
                        <input id="query-filter" type="text" placeholder="chr..." />
                      </div>
                    </div>

                    <div class="control-group">
                      <label class="control-label" for="subject-filter">Subject filter:</label>
                      <div class="controls">
                        <input id="subject-filter" type="text" placeholder="Toxoplasma..." />
                      </div>
                    </div>

                    <div class="control-group">
                      <label class="control-label" for="max-query-seqs">Max query seqs:</label>
                      <div class="controls">
                        <input id="max-query-seqs" type="number" min="1" value="10" />
                      </div>
                    </div>

                    <div class="control-group">
                      <label class="control-label" for="max-hits-per-query-seq">Max hits per query:</label>
                      <div class="controls">
                        <input id="max-hits-per-query-seq" type="number" min="1" value="5" />
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row-fluid">
                  <div class="span12" id="display-results-container">
                    <button type="submit" class="btn-large btn-primary">Display results</button>
                  </div>
                </div>
              </fieldset>
            </form>

            <div id="results-container">
              <div id="information">
                <legend>Results information</legend>
                <dl class="dl-horizontal">
                  <dt>Total query seqs:</dt> <dd id="query-seqs-count"></dd>
                  <dt>Filtered query seqs:</dt> <dd id="filtered-query-seqs-count"></dd>
                  <dt>Total hits:</dt> <dd id="hits-count"></dd>
                  <dt>Filtered hits:</dt> <dd id="filtered-hits-count"></dd>
                </dl>
              </div>

              <table id="hits" class="table table-striped table-bordered">
              </table>

              <div id="tooltip">
                <ul class="list"></ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="errors">
      <div class="alert alert-error fade in example">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        <strong>Error:</strong>
        <span class="message">This is an example error.</span>
      </div>
    </div>

    <div class="modal hide fade" id="more-info-container">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Kablammo!</h3>
      </div>

      <div class="modal-body" id="more-info">
        <section>
          <h4>Introduction</h4>
          <p>Kablammo is awesome.</p>
          </section>

        <section>
          <h4>Tips</h4>
          <ul>
            <li>Don't trust anyone over 30.</li>
          </ul>
        </section>

        <section>
          <h4>Support</h4>
          <p>Yeah, I made this. I'm freaking awesome.</p>
        </section>
      </div>

      <div class="modal-footer">
        <button class="btn" data-dismiss="modal">Close</button>
      </div>
    </div>

    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://code.jquery.com/jquery-2.0.0.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <script type="text/javascript" src="js/grapher.js"></script>
    <script type="text/javascript" src="js/blast_parser.js"></script>
    <script type="text/javascript" src="js/blast_results_loader.js"></script>
    <script type="text/javascript" src="js/interface.js"></script>
    <script type="text/javascript" src="js/kablammo.js"></script>
  </body>
</html>
